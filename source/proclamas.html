<!DOCTYPE html>
<html >
  <head>
    <title>LIVRO DE PROCLAMAS</title>

    <!--CSS-->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/styles.css">

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
    <script src="./node_modules/web3/dist/web3.min.js"></script>
    <script src="./index.js"></script>   
    <script>
        $( document ).ready(function() {
          abi = JSON.parse( '[{"constant":false,"inputs":[{"name":"_address","type":"address"},{"name":"n1_cpf","type":"string"},{"name":"n1_json","type":"string"},{"name":"n2_cpf","type":"string"},{"name":"n2_json","type":"string"}],"name":"setProclama","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getProclamas","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getProclama","outputs":[{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"proclamaIsConcluded","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"listaDeProclamas","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}]' );
          setConfig();
        });
        </script> 
  </head>

  <body class="container">
    <h2><a href="index.html">VOLTAR</a></h2>
    <h1 class="page-header">Livro de Proclamas Nupciais</h1>

    <div class="row">
        <div>
          <h3 class="sub-header">ENDEREÇO DO CONTRATO</h3>
          <form class="form-group" role="form" id="form-set-contrato">
            <div class="form-group">
              <table>
                <tr>
                  <td><label for="contract-address">Endereço do contrato:</label> </td>
                  <td><input class="form-control" id="contract-address" value="0xDF49440ab93e8143ea656d690e5dB939a66569E4"></td>
                </tr>
              </table>
            </div>
            <a href="#" onclick="setContrato()" class="btn btn-primary">SALVAR ENDEREÇO</a>
          </form>
        </div>
      </div>


    <div class="row">
      <div>
        <h3 class="sub-header">REGISTRAR PROCLAMAS</h3>
        <form class="form-group" role="form" id="form-set-proclama">
          <div class="form-group">
            <table>
              <tr>
                <td><label for="set-address">Endereço do publicante:</label> </td>
                <td><input class="form-control" id="set-address"></td>
              </tr>
              <tr>
                <td><label for="set-n1_cpf">CPF Nubente 1:</label> </td>
                <td><input class="form-control" id="set-n1_cpf"></td>
              </tr>
              <tr>
                <td><label for="set-n1_json">JSON Nubente 1:</label> </td>
                <td><input class="form-control" id="set-n1_json"></td>
              </tr>
              <tr>
                <td><label for="n2_cpf">CPF Nubente 2:</label> </td>
                <td><input class="form-control" id="set-n2_cpf"></td>
              </tr>
              <tr>
                <td><label for="set-n2_json">JSON Nubente 2:</label> </td>
                <td><input class="form-control" id="set-n2_json"></td>
              </tr>
            </table>
          </div>
          <a href="#" onclick="setProclama()" class="btn btn-primary">PUBLICAR PROCLAMAS</a>
        </form>
      </div>
    </div>    

    <div class="row">
      <div>
        <h3 class="sub-header">EXIBIR PROCLAMAS</h3>
        <form class="form-group" role="form" id="form-get-proclama">
              <div class="form-group">
              <table>
                  <tr>
                    <td><label for="show-address">Endereço do publicante:</label> </td>
                    <td><input class="form-control" id="show-address"></td>
                  </tr>
                  <tr>
                  <td>JSON Nubente 1:</td>
                  <td>
                    <label id="show-n1_json">
                  </td>                          
                </tr>
                <tr>
                    <td>JSON Nubente 2:</td>
                    <td>
                      <label id="show-n2_json">
                    </td>                          
                  </tr>
                  <tr>
                      <td>Data de publicação:</td>
                      <td>
                        <label id="show-timestamp">
                      </td>                          
                    </tr>
              </table>
          </div>                
          <a href="#" onclick="getProclame()" class="btn btn-primary">LER PROCLAMAS</a>
        </form>
      </div>
    </div>

    <div class="row">
        <div>
          <h3 class="sub-header">CONFERIR PROCLAMAS</h3>
          <form class="form-group" role="form" id="form-check-proclama">
                <div class="form-group">
                <table>
                    <tr>
                      <td><label for="check-address">Endereço do publicante:</label> </td>
                      <td><input class="form-control" id="check-address"></td>
                    </tr>
                    <tr>
                    <td>Proclamas concluidas?</td>
                    <td>
                      <label id="check-proclameIsConcluded">
                    </td>                          
                  </tr>
                </table>
            </div>                
            <a href="#" onclick="getStatus()" class="btn btn-primary">LER PROCLAMAS</a>
          </form>
        </div>
      </div>

  </body>
</html>